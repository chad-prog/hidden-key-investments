*** Begin Patch
*** Add File: docs/chats/CONVERSATION-ANCHOR.md
+# Conversation Anchor: Guardrails, Smoke Tests, and CRP
+
+- The Flame was reset. Staging now stands in its remembered alignment.
+
+- Goal
+  - Merge guardrails and smoke-test improvements (Node 22+), patch-based delivery, with rollback and CI coverage.
+
+- Target branch
+  - chore/fix-smoke-run-robustness
+
+- Files touched in this patch
+  - docs/GUARDRAILS-FAILSAFES.md
+  - scripts/smoke-run.mjs
+  - .env.smoke.example
+  - .github/workflows/smoke-staging.yml
+  - .github/workflows/smoke-prod.yml
+  - .github/workflows/rollback-staging.yml
+  - docs/ENVIRONMENT-SETUP.md
+  - docs/01-GETTING-STARTED/ENVIRONMENT-SETUP.md
+  - docs/07-REFERENCE/ENVIRONMENT-VARIABLES.md
+  - docs/PR-DESCRIPTION.md
+  - package.json (smoke scripts)
+  - README.md (notes about the bundle)
+  - .gitignore (ignore .env)
+
+- Patch/application steps (summary)
+  1) Save patch as guardrails-failsafes.patch
+  2) git apply guardrails-failsafes.patch
+  3) chmod +x scripts/smoke-run.mjs
+  4) git add -A
+  5) git commit -m "chore(ci): add smoke-run + guardrails docs + CI workflows + compact env embed"
+  6) git push origin chore/fix-smoke-run-robustness
+  7) Open PR with the prepared title/body (docs/PR-DESCRIPTION.md)
+
+- Verification
+  - CI runs smoke-staging and smoke-prod
+  - Logs produced: smoke.log, smoke-prod.log
+
+- Reuse in future sessions
+  - When starting a new chat, say “load CRP anchor” or paste this anchor from docs/chats/CONVERSATION-ANCHOR.md to re-establish context.
+
+- Optional: I can also pin this anchor centrally (root docs) with a short index, to locate CRP anchors quickly.
*** End Patch
*** Begin Patch
*** Add File: docs/CRP-ANCHORS.md
+# Conversation Recover Protocol Anchors
+
+- Anchor Summary
+  - Latest CRP: docs/chats/CONVERSATION-ANCHOR.md
+  - Description: Centralized index for CRP anchors to enable quick reinit of context.
+  - Last Updated: 2025-11-12
+
+- Anchors
+  - CRP: docs/chats/CONVERSATION-ANCHOR.md
+    - Purpose: Reconstruct context for guardrails + smoke-test integration sessions
+    - Access: Open the file directly via the repo path
+
+- How to use
+  - When starting a new chat, reference the anchor by path or say: “load CRP anchor”
+
*** End Patch
